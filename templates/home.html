{% extends '_base.html' %}
{% load static %}
{% load socialaccount %}
{% load account %}

{% block title %}Home{% endblock title %}

{% block content %}
    <h1>Homepage</h1>
    <img class="bookcover" src="{% static 'images/dfp_cover_31.png' %}">
    {% if user.is_authenticated %}
        Hi {{ user.email }}!
        <p><a href="{% url 'account_logout' %}">Log Out</a></p>
    {% else %}
        <p>You are not logged in</p>
        <a href="{% provider_login_url 'github' %}">Log In</a>
        <a href="{% url 'account_signup' %}">Sign Up</a>
    {% endif %}
    {% get_providers as socialaccount_providers %}
    
    {% for provider in socialaccount_providers %}
    {% if provider.id == "openid" %}
    {% for brand in provider.get_brands %}
    <li>
        <a title="{{brand.name}}" class="socialaccount_provider {{provider.id}} {{brand.id}}"
            href="{% provider_login_url provider.id openid=brand.openid_url process=process %}">{{brand.name}}</a>
    </li>
    {% endfor %}
    {% endif %}
    <li>
        <a title="{{provider.name}}" class="socialaccount_provider {{provider.id}}"
            href="{% provider_login_url provider.id process=process scope=scope auth_params=auth_params %}">{{provider.name}}</a>
    </li>
    {% endfor %}
{% endblock content %}